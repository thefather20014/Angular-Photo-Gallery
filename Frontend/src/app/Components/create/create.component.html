<div class="container p-4">
    <div class="row">
        <div class="col-12 col-md-10 m-auto">
            <div class="card">
                <div class="card-body">
                    <form #moviesForm="ngForm"
                        (ngSubmit)="formData(Title, Duration, Director, Resolution, Genre, Rating, Description, Price, Stars, Date, Country, Languague)"
                        class="form-inline" autocomplete="off">
                        <div class="form-group col-12 col-md-5 mb-auto">
                            <div class="d-flex"
                                style="justify-content: center; align-content: center; flex-direction: column;">
                                <input type="file" name="ImagePath" ngModel class="d-none"
                                    (change)="onPhotoSelected($event)" #photoInput>
                                <img [src]="photoSelected || 'assets/Img/no-image-icon.png'" alt="image"
                                    (click)="photoInput.click()" class="img-fluid mb-3"
                                    [ngClass]="{'is-invalid': photoInput.invalid && (photoInput.touched || photoInput.dirty), 'is-valid': photoInput.valid && (photoInput.touched || photoInput.dirty) }">
                                <p class="text-danger col-12 mt-2"
                                    *ngIf="photoInput.invalid && (photoInput.dirty || photoInput.touched) || message.error?.errors.ImagePath">
                                    Photo 'Path' is required.</p>
                                <h2 class="lead m-auto">Choose Your File</h2>
                            </div>
                        </div>

                        <div class="col-12 col-md-7 card p-2 mt-3">
                            <div class="form-inline">
                                <div class="form-group col-6">
                                    <input type="text" name="Title"
                                        [ngClass]="{'is-invalid': Title.invalid && (Title.touched || Title.dirty), 'is-valid': Title.valid && (Title.touched || Title.dirty) }"
                                        #Title="ngModel" ngModel class="form-control col-12" placeholder="Title"
                                        required
                                        [ngClass]="{'is-invalid': Title.invalid && (Title.touched || Title.dirty), 'is-valid': Title.valid && (Title.touched || Title.dirty) }">

                                    <p class="text-danger col-12 mt-2"
                                        *ngIf="Title.invalid && (Title.dirty || Title.touched) || message.error?.errors.Title">
                                        Title 'Path' is required.</p>
                                </div>
                                <div class="form-group col-6">
                                    <input type="number" name="Duration" #Duration="ngModel" ngModel
                                        class="form-control col-12" placeholder="Duration" required
                                        [ngClass]="{'is-invalid': Duration.invalid && (Duration.touched || Duration.dirty), 'is-valid': Duration.valid && (Duration.touched || Duration.dirty) }">
                                    <div class="col-12 mt-2"
                                        *ngIf="Duration.invalid && (Duration.dirty || Duration.touched) || message.error?.errors.Duration">
                                        <p class="text-danger">Duration 'Path' is required.</p>
                                    </div>
                                </div>
                            </div>


                            <div class="form-inline">
                                <div class="form-group col-6">
                                    <input type="text" name="Director" #Director="ngModel" ngModel
                                        class="form-control col-12"
                                        [ngClass]="{'is-invalid': Director.invalid && (Director.touched || Director.dirty), 'is-valid': Director.valid && (Director.touched || Director.dirty) }"
                                        placeholder="Director" required>
                                    <p class="text-danger col-12 mt-2"
                                        *ngIf="Director.invalid && (Director.dirty || Director.touched) || message.error?.errors.Director">
                                        Director 'Path' is required.</p>
                                </div>
                                <div class="form-group col-6">
                                    <select name="Resolution" #Resolution="ngModel" ngModel class="form-control col-12"
                                        required
                                        [ngClass]="{'is-invalid': Resolution.invalid && (Resolution.touched || Resolution.dirty), 'is-valid': Resolution.valid && (Resolution.touched || Resolution.dirty) }">
                                        <option *ngFor="let item of list6" [value]="item">{{item}}</option>
                                    </select>
                                    <p class="text-danger col-12 mt-2"
                                        *ngIf="Genre.invalid && (Genre.dirty || Genre.touched) || message.error?.errors.Genre">
                                        Genre 'Path' is required.</p>
                                </div>
                            </div>
                            <div class="form-inline">
                                <div class="form-group col-6">
                                    <select name="Genre" #Genre="ngModel" ngModel class="form-control col-12" required
                                        [ngClass]="{'is-invalid': Genre.invalid && (Genre.touched || Genre.dirty), 'is-valid': Genre.valid && (Genre.touched || Genre.dirty) }">
                                        <option *ngFor="let item of list" [value]="item">{{item}}</option>
                                    </select>
                                    <p class="text-danger col-12 mt-2"
                                        *ngIf="Genre.invalid && (Genre.dirty || Genre.touched) || message.error?.errors.Genre">
                                        Genre 'Path' is required.</p>
                                </div>
                                <div class="form-group col-6">
                                    <select name="Rating" #Rating="ngModel" ngModel class="form-control col-12" required
                                        [ngClass]="{'is-invalid': Rating.invalid && (Rating.touched || Rating.dirty), 'is-valid': Rating.valid && (Rating.touched || Rating.dirty) }">
                                        <option *ngFor="let item of list2" [value]="item">{{item}}</option>
                                    </select>
                                    <p class="text-danger col-12 mt-2"
                                        *ngIf="Rating.invalid && (Rating.dirty || Rating.touched)  || message.error?.errors.Rating">
                                        Rating 'Path' is required.</p>
                                </div>
                            </div>
                            <div class="form-group col-12">
                                <input type="number" name="Price" #Price="ngModel" ngModel class="form-control col-12"
                                    [ngClass]="{'is-invalid': Price.invalid && (Price.touched || Price.dirty), 'is-valid': Price.valid && (Price.touched || Price.dirty) }"
                                    required placeholder="Price">
                                <p class="text-danger col-12 mt-2"
                                    *ngIf="Price.invalid && (Price.dirty || Price.touched)  || message.error?.errors.Price">
                                    Price 'Path' is required.</p>
                            </div>
                            <div class="form-group col-12">
                                <textarea class="form-control col-12" name="Description" #Description="ngModel" ngModel
                                    [ngClass]="{'is-invalid': Description.invalid && (Description.touched || Description.dirty), 'is-valid': Description.valid && (Description.touched || Description.dirty) }"
                                    placeholder="Description" required></textarea>
                                <p class="text-danger col-12 mt-2"
                                    *ngIf="Description.invalid && (Description.dirty || Description.touched) || message.error?.errors.Description">
                                    Description 'Path' is required.</p>
                            </div>

                            <div class="form-group col-12">
                                <input type="date" name="Date" #Date="ngModel" ngModel class="form-control col-12"
                                    required
                                    [ngClass]="{'is-invalid': Date.invalid && (Date.touched || Date.dirty), 'is-valid': Date.valid && (Date.touched || Date.dirty) }">
                                <p class="text-danger col-12 mt-2"
                                    *ngIf="Date.invalid && (Date.dirty || Date.touched) || message.error?.errors.Date">
                                    Date 'Path' is required.</p>
                            </div>
                            <div class="form-group col-12">
                                <input type="number" name="Stars" min="1" max="5" #Stars="ngModel" ngModel
                                    class="form-control col-12" placeholder="Stars" required
                                    [ngClass]="{'is-invalid': Stars.invalid && (Stars.touched || Stars.dirty), 'is-valid': Stars.valid && (Stars.touched || Stars.dirty) }">
                                <p class="mt-1" style="color: darkgray;">Please, Stars from 1 to 5</p>
                                <p class="text-danger col-12 mt-2"
                                    *ngIf="Stars.invalid && (Stars.dirty || Stars.touched) || message.error?.errors.Stars">
                                    Stars 'Path' is required.</p>
                            </div>
                            <div class="form-inline my-4">
                                <div class="form-group col-6">
                                    <select name="Country" #Country="ngModel" ngModel class="form-control col-12"
                                        required
                                        [ngClass]="{'is-invalid': Country.invalid && (Country.touched || Country.dirty), 'is-valid': Country.valid && (Country.touched || Country.dirty) }">
                                        <option *ngFor="let item of list4" [value]="item">{{item}}</option>
                                    </select>
                                    <p class="text-danger col-12 mt-2"
                                        *ngIf="Country.invalid && (Country.dirty || Country.touched) || message.error?.errors.Country">
                                        Country 'Path' is required.</p>
                                </div>
                                <div class="form-group col-6">
                                    <select name="Languague" #Languague="ngModel" ngModel class="form-control col-12"
                                        required
                                        [ngClass]="{'is-invalid': Languague.invalid && (Languague.touched || Languague.dirty), 'is-valid': Languague.valid && (Languague.touched || Languague.dirty) }">
                                        <option *ngFor="let item of list5" [value]="item">{{item}}</option>
                                    </select>
                                    <p class="text-danger col-12 mt-2"
                                        *ngIf="Languague.invalid && (Languague.dirty || Languague.touched) || message.error?.errors.Languague">
                                        Languague 'Path' is required.</p>
                                </div>
                            </div>
                            <div class="form-group col-12">
                                <button class="btn btn-outline-primary btn-block mb-2"
                                    [disabled]="!moviesForm.form.valid">Save</button>
                            </div>
                        </div>
                    </form>

                </div>
            </div>
        </div>
    </div>

    <!--[disabled]="!moviesForm.form.valid"-->
</div>